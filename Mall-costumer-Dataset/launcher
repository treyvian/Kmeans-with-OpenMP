#!/bin/bash

# Compiling with make file
make

read -p 'execute with Valgrind ? [y/N]:' choice

if [[ "$choice" == 'y' ]]; then
    # Executing code
    OMP_NUM_THREADS=1 valgrind --leak-check=full --show-leak-kinds=all -s ./output 201 5 data/Mall_Customers.csv 20 
else
    OMP_NUM_THREADS=1 ./output 201 5 data/Mall_Customers.csv 20
fi

make clean

read -p 'visualize the results ? [y/N]:' ans

if [[ $ans == "y" ]]; then
    # Visualizing results
    python plot.py
fi